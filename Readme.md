# Docker container for vsftpd

## User database

It will manage users and passwords on container start. Every directory in
`/etc/credentials` with subdirs `username` and `password` (e.g.
kubernetes/openshift secret volumes generated by `oc secrets new-basicauth`)
will be added to the database /etc/vsftpd/user.db. It will overwrite the
passwords when they already exist. The credentials in `secret`s are meant to
be the canonical.

In the future, when kubernetes/kubernetes#18372 is resolved, there might be
a sidecar container that updates the user database.

## Env variables

There are some environment variables to influence vsftpd behavior.

 * `SERVICE_NAME` specifies the address that `pasv_adress` will use
 * `VSFTPD_OPTIONS` specifies additional options for vsftpd.
    E.g. "-oanonymous_enable=yes"
